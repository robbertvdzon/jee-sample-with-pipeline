Started by user [8mha:AAAAlh+LCAAAAAAAAP9b85aBtbiIQTGjNKU4P08vOT+vOD8nVc83PyU1x6OyILUoJzMv2y+/JJUBAhiZGBgqihhk0NSjKDWzXb3RdlLBUSYGJk8GtpzUvPSSDB8G5tKinBIGIZ+sxLJE/ZzEvHT94JKizLx0a6BxUmjGOUNodHsLgAzOEgYu/dLi1CL9vNKcHACFIKlWvwAAAA==[0manonymous
Building in workspace /var/jenkins_home/jobs/deploy war/workspace
[workspace] $ /bin/sh -xe /tmp/hudson4336139427282173550.sh
+ cd /src
+ echo FIND VERSION
FIND VERSION
+ docker run -i --rm -v /workspace/jee-sample-with-pipeline/pipeline/data/.m2:/root/.m2 -v /workspace/jee-sample-with-pipeline/:/usr/src/mymaven -w /usr/src/mymaven maven:3.2-jdk-8 mvn -Dexec.executable=echo -Dexec.args=${project.version} -Dexec.outputFile=/usr/src/mymaven/current_project_version --non-recursive --batch-mode org.codehaus.mojo:exec-maven-plugin:1.3.1:exec
+ cat current_project_version
1.1.21
+ echo FIND ARTIFACTID
FIND ARTIFACTID
+ docker run -i --rm -v /workspace/jee-sample-with-pipeline/pipeline/data//.m2:/root/.m2 -v /workspace/jee-sample-with-pipeline:/usr/src/mymaven -w /usr/src/mymaven maven:3.2-jdk-8 mvn -Dexec.executable=echo -Dexec.args=${project.artifactId} -Dexec.outputFile=/usr/src/mymaven/current_project_artifactId --non-recursive --batch-mode org.codehaus.mojo:exec-maven-plugin:1.3.1:exec
+ cat current_project_artifactId
contactsbackend
+ echo FIND PROJECTGROUPID
FIND PROJECTGROUPID
+ docker run -i --rm -v /workspace/jee-sample-with-pipeline/pipeline/data/.m2:/root/.m2 -v /workspace/jee-sample-with-pipeline:/usr/src/mymaven -w /usr/src/mymaven maven:3.2-jdk-8 mvn -Dexec.executable=echo -Dexec.args=${project.groupId} -Dexec.outputFile=/usr/src/mymaven/current_project_groupId --non-recursive --batch-mode org.codehaus.mojo:exec-maven-plugin:1.3.1:exec
+ cat current_project_groupId
contacts
+ cat current_project_version
+ export VERSION=1.1.21
+ cat current_project_groupId
+ export GROUPID=contacts
+ cat current_project_artifactId
+ export ARTIFACTID=contactsbackend
+ echo UPLOAD TO NEXUS
UPLOAD TO NEXUS
+ curl --request PUT --user admin:admin123 http://172.17.42.1:8081/content/repositories/releases/contacts/contactsbackend/contactsbackend-1.1.21.war --data @./target/contactsbackend-1.1.21.war -H Content-Type:application/java-archive --verbose
* Hostname was NOT found in DNS cache
*   Trying 172.17.42.1...
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed
  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0* Connected to 172.17.42.1 (172.17.42.1) port 8081 (#0)
* Server auth using Basic with user 'admin'
> PUT /content/repositories/releases/contacts/contactsbackend/contactsbackend-1.1.21.war HTTP/1.1
> Authorization: Basic YWRtaW46YWRtaW4xMjM=
> User-Agent: curl/7.38.0
> Host: 172.17.42.1:8081
> Accept: */*
> Content-Type:application/java-archive
> Content-Length: 1905985
> Expect: 100-continue
> 
< HTTP/1.1 100 Continue
} [data not shown]
< HTTP/1.1 201 Created
< Date: Sat, 10 Oct 2015 18:49:39 GMT
* Server Nexus/2.11.4-01 is not blacklisted
< Server: Nexus/2.11.4-01
< X-Frame-Options: SAMEORIGIN
< X-Content-Type-Options: nosniff
< Accept-Ranges: bytes
< Content-Length: 0
< 
100 1861k    0     0  100 1861k      0  11.7M --:--:-- --:--:-- --:--:-- 11.9M
* Connection #0 to host 172.17.42.1 left intact
Warning: you have no plugins providing access control for builds, so falling back to legacy behavior of permitting any downstream builds to be triggered
Triggering a new build of [8mha:AAAAqh+LCAAAAAAAAP9b85aBtbiIQTGjNKU4P08vOT+vOD8nVc83PyU1x6OyILUoJzMv2y+/JJUBAhiZGBgqihhk0NSjKDWzXb3RdlLBUSYGJk8GtpzUvPSSDB8G5tKinBIGIZ+sxLJE/ZzEvHT94JKizLx0a6BxUmjGOUNodHsLgAyxEgYF/az8JP2k0sycFFUjg5T85OzUIiADqLkkMTMvtUgfACZHs3vVAAAA[0mbuild docker container
Finished: SUCCESS
